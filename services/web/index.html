<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explorador básico de efectos</title>
  <link rel="stylesheet" href="/app/styles.css" />
</head>
<body>
  <main>
    <section class="panel">
      <h1>Explorador básico de efectos</h1>
      <p>Esta vista mínima invoca <code>/effects</code> y muestra los caminos encontrados en una tabla.</p>
      <p class="todo">TODO Sprint 3: reactivar gráficos, tabs y comparativas interactivas.</p>
      <form id="effects-form">
        <label class="field">
          <span>Tensor original (JSON con forma [batch, M, N])</span>
          <textarea id="tensor" name="tensor" rows="8" spellcheck="false"></textarea>
        </label>
        <div class="grid">
          <label class="field">
            <span>Threshold</span>
            <input type="number" id="threshold" name="threshold" min="0" max="1" step="0.01" value="0.3" required />
          </label>
          <label class="field">
            <span>Orden máximo</span>
            <input type="number" id="order" name="order" min="2" max="10" value="4" required />
          </label>
          <label class="field">
            <span>Réplicas bootstrap</span>
            <input type="number" id="bootstrap" name="bootstrap" min="0" value="0" />
          </label>
        </div>
        <label class="field">
          <span>URL del servicio (opcional)</span>
          <input type="url" id="backend-url" name="backend-url" placeholder="http://localhost:8000/effects" />
          <small>Vacío = usa únicamente los datos de ejemplo.</small>
        </label>
        <div class="actions">
          <button type="submit" id="submit-btn">Generar efectos</button>
          <button type="button" id="use-sample">Ver ejemplo</button>
        </div>
      </form>
      <div id="status" role="status"></div>
    </section>

    <section id="results" class="panel hidden">
      <h2>Resultados básicos</h2>
      <div id="summary"></div>
      <table id="effects-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Orden</th>
            <th>Camino</th>
            <th>Valor</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <p class="todo">TODO Sprint 3: volver a publicar métricas detalladas y exportaciones.</p>
    </section>
  </main>

  <footer>
    <p>Servicio: <code>uvicorn services.effects_api:app</code></p>
  </footer>

  <script type="module" src="/app/app.js"></script>
</body>
</html>
